webpackJsonp([29],{213:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a(233),i=a.n(e);for(var n in e)"default"!==n&&function(t){a.d(s,t,function(){return e[t]})}(n);var o=a(271),r=a(1),l=r(i.a,o.a,!1,null,null,null);s.default=l.exports},233:function(t,s,a){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(s,"__esModule",{value:!0});var i=a(5),n=(e(i),a(7)),o=a(4),r=e(o),l=a(2),p=a(4),c=e(p);s.default={props:["dataShowDummyData","dataCssLogoPath"],components:{},created:function(){},mounted:function(){this.setUserInfo(),l.EventBus.$on("loggedInChecked",this.updateUserBlock),l.EventBus.$on("loggedOut",this.logout),"true"==this.dataShowDummyData||this.isUserLoggedIn&&this.getAllData()},data:function(){return{isUserLoggedIn:!1,userName:"",isStatus:!1,upComingTripUrl:"//www.yatra.com/mybookingsService/user/alltrips/getRecentBookings?companyId=YT",personData:{},tripData:{}}},methods:{getUnique:function(){return parseInt((new Date).getTime()*Math.random())},timeConvertt:function(t){if(void 0!==t)return c.default.timeConvert(t)},updateUserBlock:function(t){},getAllData:function(){var t=this,s=this.getUnique(),a=this.upComingTripUrl+"&source=freco&unique="+s;n.request.getUserData(a).then(function(s){if("SUCCESS"===s.data.responseStatus.status&&"undefined"!==s.data.allTripsBookingMOs&&s.data.allTripsBookingMOs.length>0){t.tripData=s.data.allTripsBookingMOs[0],t.personData=s.data.allTripsBookingMOs[0].bookingMOs[0];var a=void 0!==t.tripData.isRoundTrip&&t.tripData.isRoundTrip,e=void 0!==t.personData.tripType&&t.personData.tripType.toLowerCase();a&&"completed"===e&&(t.personData=s.data.allTripsBookingMOs[0].bookingMOs[1]),t.$set(t,"isStatus",!0),t.loadLogoCss()}l.EventBus.$emit("upcoming-trip-bookings",t.tripData)}).catch(function(t){console.log("error..",t)})},getMyTempData:function(){this.tripData="".allTripsBookingMOs[0],this.personData="".allTripsBookingMOs[0].bookingMOs[0];var t=void 0!==this.tripData.isRoundTrip&&this.tripData.isRoundTrip;t&&(this.$set(this,"isRoundTrip",t),this.personDataRound="".allTripsBookingMOs[0].bookingMOs[1]),this.loadLogoCss(),this.$set(this,"isStatus",!0),this.$set(this,"isUserLoggedIn",!0)},setUserInfo:function(){var t=void 0!==r.default.getCookie("userType")?r.default.getCookie("userType"):"",s=r.default.getCookie("userName");void 0!==s&&void 0!==t&&""!=s&&"B2B_AGENT"!=t&&"CORPORATE"!=t&&(this.$set(this,"isUserLoggedIn",!0),this.setUserName())},setUserName:function(t){var s="";s=void 0!==t&&""!=t?t:this.getUserName(),this.$set(this,"userName",s)},getUserName:function(){var t=r.default.getCookie("userName");if("string"==typeof t&&t)return t=t.replace(/"|'/g,""),t?t+",":"Guest"},logout:function(){this.$set(this,"isUserLoggedIn",!1)},onClickHandle:function(t){if("undefined"!=typeof yt_ga&&yt_ga.trackEventView(this.pageCategory,"upcomingtrip","upcomingtrip Chosen : "+t),"undefined"!=typeof yt_adobe&&"undefined"!=typeof digitalData){var s=t.toLowerCase();digitalData.customLinkName="home:upcomingtrip:"+s,yt_adobe.track("custom-link-click",digitalData)}},loadLogoCss:function(){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=this.dataCssLogoPath,document.head.appendChild(t)}}}},271:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return t.isUserLoggedIn&&t.isStatus?a("div",{staticClass:"upcoming_bookings popular_destination moduleArea right-boxes"},["flight"===t.tripData.productName?a("a",{class:t.tripData.productName,attrs:{href:"https://secure.yatra.com/manage-bookings/allbookings#/list"},on:{click:function(s){t.onClickHandle("flight")}}},[a("h2",[a("span",{staticClass:"upusername",domProps:{innerHTML:t._s(this.userName)}}),t._v(" "),a("span",[t._v("Details of your upcoming trip")])]),t._v(" "),a("div",{staticClass:"headUpcomintTrip"},[a("div",{staticClass:"flight_pnr_name_detail"},[a("i",{staticClass:"demo-icon icon-flights"}),t._v(" "),a("div",{staticClass:"traveller_names"},[t._v("\n\t                                    "+t._s(t.personData.leadPaxName)+" "),t.personData.numberOfTravellers>1?a("span",{staticClass:"relative showPaxToolTip"},[t._v("+"+t._s(t.personData.numberOfTravellers-1)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),a("div",{staticClass:"pax-tooltip hide"},[a("em",{staticClass:"pax-tooltipData"},[a("ul",t._l(t.personData.passengerDetails,function(s){return s.leadPax?t._e():a("li",[a("em",{staticClass:"pax-name"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(s.title)+". "+t._s(s.fname)+" "+t._s(s.lname))])])}))])])]):t._e()]),t._v(" "),a("div",{staticClass:"trip_details_more"},[a("a",{staticClass:"mR25",attrs:{href:"https://secure.yatra.com/manage-bookings/allbookings#/list"},on:{click:function(s){t.onClickHandle("flights")}}},[t._v("Trip Details")]),t._v(" "),a("a",{attrs:{href:"https://www.yatra.com/online/web-check-in"}},[t._v("Web Check In")])])])]),t._v(" "),a("div",{staticClass:"web_checkin_open"},[a("div",{staticClass:"airline_time"},[a("div",{staticClass:"pnr_number"},[a("span",{staticClass:"airlineLogos  intAirLogo size-28",class:"x"+t.personData.legs[0].airlineCode}),t._v(" "),a("p",{staticClass:"pnrFlight"},[t._v("PNR")])]),t._v(" "),a("div",{staticClass:"airline_logo"},[a("p",{staticClass:"elip"},[t._v(t._s(t.personData.legs[0].airlineName)+" "),a("span",[t._v(t._s(t.personData.airLinePnr))])])]),t._v(" "),a("div",{staticClass:"flight_timing"},[a("div",{staticClass:"departure_airport"},[a("span",{staticClass:"cityName"},[t._v(t._s(t.personData.sourceCity))]),t._v(" "),a("span",{staticClass:"uptripTime"},[t._v(t._s(t.timeConvertt(t.personData.startTimeString)))]),t._v(" "),a("span",{staticClass:"uptripdate"},[t._v(t._s(t.personData.startDateString))])]),t._v(" "),a("div",{staticClass:"stops_refundable"},[a("span",[t._v(t._s(t.personData.refundableType))])]),t._v(" "),a("div",{staticClass:"departure_airport"},[a("span",{staticClass:"cityName"},[t._v(t._s(t.personData.destinationCity))]),t._v(" "),a("span",{staticClass:"uptripTime"},[t._v(t._s(t.timeConvertt(t.personData.endTimeString)))]),t._v(" "),a("span",{staticClass:"uptripdate"},[t._v(t._s(t.personData.endDateString))])])])])])]):"hotel"===t.tripData.productName?a("a",{staticClass:"tripProduct",class:t.tripData.productName,attrs:{href:"https://secure.yatra.com/manage-bookings/allbookings#/list"},on:{click:function(s){t.onClickHandle("hotel")}}},[a("h2",[a("span",{staticClass:"upusername",domProps:{innerHTML:t._s(this.userName)}}),t._v(" "),a("span",[t._v("Details of your upcoming trip")])]),t._v(" "),a("div",{staticClass:"web_checkin_open"},[a("div",{staticClass:"flight_pnr_name_detail"},[a("i",{staticClass:"demo-icon icon-hotels"}),t._v(" "),a("div",{staticClass:"pnr_number"},[a("span",[t._v(t._s(t.personData.hotelName))])]),t._v(" "),a("div",{staticClass:"traveller_names"},[t._v("\n\t\t\t\t \t                                    Booking ref no: "),a("span",[t._v(t._s(t.tripData.bookingRef))])]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"stayNight"},[a("span",[t._v(t._s(t.personData.numberOfRooms)+" Room(s), "+t._s(t.personData.stayDuration)+" Night(s)")])]),t._v(" "),a("div",{staticClass:"airline_time"},[a("div",{staticClass:"flight_timing"},[a("div",{staticClass:"departure_airport"},[t._v("\n\t\t\t\t \t                                       Check In"),a("span",[t._v(t._s(t.personData.startDateString))])]),t._v(" "),a("div",{staticClass:"stops_refundable"},[a("span",[t._v(t._s(t.personData.refundableType))])]),t._v(" "),a("div",{staticClass:"departure_airport"},[t._v("\n\t\t\t\t \t                                            Check Out "),a("span",[t._v(t._s(t.personData.endDateString))])])])])])]):t._e()]):t._e()},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"trip_details_more"},[a("a",[t._v("Booking Details")])])}],n={render:e,staticRenderFns:i};s.a=n}});